"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[116],{54773:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});n(53297);var r=n(58258),o=n(75030),s=n(12724),i=n.n(s),a=n(68625);class l extends o.B69{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const d=new o.Pq0,c=new o.kn4,m=new o.kn4,p=new o.Pq0,h=new o.Pq0;class u{constructor(e={}){const t=this;let n,r,o,s;const i={objects:new WeakMap},a=void 0!==e.element?e.element:document.createElement("div");function l(e,n,r){if(e.isCSS2DObject){d.setFromMatrixPosition(e.matrixWorld),d.applyMatrix4(m);const l=!0===e.visible&&d.z>=-1&&d.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===l?"":"none",!0===l){e.onBeforeRender(t,n,r);const i=e.element;i.style.transform="translate(-50%,-50%) translate("+(d.x*o+o)+"px,"+(-d.y*s+s)+"px)",i.parentNode!==a&&a.appendChild(i),e.onAfterRender(t,n,r)}const c={distanceToCameraSquared:u(r,e)};i.objects.set(e,c)}for(let t=0,o=e.children.length;t<o;t++)l(e.children[t],n,r)}function u(e,t){return p.setFromMatrixPosition(e.matrixWorld),h.setFromMatrixPosition(t.matrixWorld),p.distanceToSquared(h)}function b(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function w(e){const t=b(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=i.objects.get(e).distanceToCameraSquared,r=i.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,o=t.length;r<o;r++)t[r].element.style.zIndex=n-r}a.style.overflow="hidden",this.domElement=a,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),c.copy(t.matrixWorldInverse),m.multiplyMatrices(t.projectionMatrix,c),l(e,e,t),w(e)},this.setSize=function(e,t){n=e,r=t,o=n/2,s=r/2,a.style.width=e+"px",a.style.height=t+"px"}}}var b=n(64634);const w={domId:"webgl-output",initPosition:new o.Pq0(20,10,10),fov:60,near:1,far:1e4,rendererOptions:{},clearColor:new o.Q1f(9737626),showStats:!1,helper:0,exposure:1,enableDamping:!0};class g{constructor(e){const t=w;(0,b.Gv)(e)&&Object.assign(t,e);const{fov:n,near:r,far:s,initPosition:l,rendererOptions:d={},clearColor:c,domId:m,showStats:p,helper:h,exposure:g,enableDamping:y}=t;this.scene=new o.Z58,this.camera=new o.ubm(n,window.innerWidth/window.innerHeight,r,s),this.camera.position.copy(l),this.camera.lookAt(this.scene.position);let f={antialias:!0};(0,b.Gv)(d)&&(f=Object.assign({},f,d)),this.renderer=new o.JeP(f),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=o.Wk7,this.renderer.setClearColor(c),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=o.kyO,this.renderer.toneMappingExposure=g,this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(m)?.append(this.renderer.domElement);const x=new u;if(x.setSize(window.innerWidth,window.innerHeight),x.domElement.style.position="absolute",x.domElement.style.top=0,x.domElement.style.left=0,this.labelRenderer=x,document.body.appendChild(x.domElement),this.orbitControls=new a.N(this.camera,this.labelRenderer.domElement),this.orbitControls.enableDamping=y,this.clock=new o.zD7,(0,b.Et)(h)&&h>0&&this.scene.add(new o.IzY(h)),p){const e=new(i());this.stats=e,document.body.appendChild(e.dom)}}render(){this.orbitControls.update(),this.stats&&this.stats.update(),this.beforeRender&&this.beforeRender(),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera)}beforeDestroy(){this.labelRenderer.domElement.remove()}}const y={id:"webgl-output"},f={name:"Panorama2D"};var x=Object.assign(f,{setup(e){class t extends g{constructor(){super({initPosition:new o.Pq0(0,0,1),clearColor:new o.Q1f(0),fov:75,near:1,far:1e4});const e=["/images/panorama/cubemap/px.png","/images/panorama/cubemap/nx.png","/images/panorama/cubemap/py.png","/images/panorama/cubemap/ny.png","/images/panorama/cubemap/pz.png","/images/panorama/cubemap/nz.png"],t=[],n=new o.Tap;e.map((e=>{const r=new o.V9B({map:n.load(e)});t.push(r)}));var r=new o.iNn(500,500,500),s=new o.eaF(r,t);s.geometry.scale(-1,1,1),this.scene.add(s);const i=[{x:-5,y:-4,z:-14,content:"床"},{x:-20,y:-5,z:-9,content:"沙发"},{x:10,y:-6,z:12,content:"冰箱"}];function a(e,t,n,r){let o=document.createElement("div");o.className="laber_name",o.innerHTML=e,o.style.color="#F4EA2A",o.style.fontSize="30px",o.style.background="url(/images/icon/position-fill.png) no-repeat",o.style.backgroundSize="30px 30px",o.style.backgroundPosition="left center",o.style.padding="0 0 0 36px",o.style.cursor="pointer",o.addEventListener("click",(t=>{console.log("ev",t),alert(`点击了${e}`)})),o.addEventListener("mouseover",(e=>{console.log("ev",e)}));let s=new l(o);return s.position.set(t,n,r),s}i.map((e=>{const{x:t,y:n,z:r,content:o}=e,s=a(o,t,n,r);this.scene.add(s)})),this.render()}beforeRender(){}}let n;return(0,r.sV)((()=>{n=new t})),(0,r.xo)((()=>{n.beforeDestroy()})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",y))}}),v=n(20541);const C=(0,v.A)(x,[["__scopeId","data-v-0d08b7ec"]]);var E=C}}]);