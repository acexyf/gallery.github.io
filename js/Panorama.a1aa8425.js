(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[243],{6954:function(e){(function(t,n){e.exports=n()})(0,(function(){var e=function(){function t(e){return r.appendChild(e.dom),e}function n(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";i=e}var i=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),n(++i%r.children.length)}),!1);var s=(performance||Date).now(),o=s,a=0,l=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:t,showPanel:n,begin:function(){s=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(c.update(e-s,200),e>o+1e3&&(l.update(1e3*a/(e-o),100),o=e,a=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){s=this.end()},domElement:r,setMode:n}};return e.Panel=function(e,t,n){var i=1/0,r=0,s=Math.round,o=s(window.devicePixelRatio||1),a=80*o,l=48*o,c=3*o,d=2*o,h=3*o,p=15*o,u=74*o,m=30*o,f=document.createElement("canvas");f.width=a,f.height=l,f.style.cssText="width:80px;height:48px";var w=f.getContext("2d");return w.font="bold "+9*o+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=n,w.fillRect(0,0,a,l),w.fillStyle=t,w.fillText(e,c,d),w.fillRect(h,p,u,m),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(h,p,u,m),{dom:f,update:function(l,g){i=Math.min(i,l),r=Math.max(r,l),w.fillStyle=n,w.globalAlpha=1,w.fillRect(0,0,a,p),w.fillStyle=t,w.fillText(s(l)+" "+e+" ("+s(i)+"-"+s(r)+")",c,d),w.drawImage(f,h+o,p,u-o,m,h,p,u-o,m),w.fillRect(h+u-o,p,o,m),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(h+u-o,p,o,s((1-l/g)*m))}}},e}))},5791:function(e,t,n){"use strict";function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){return"number"===typeof e}n.d(t,{Kn:function(){return i},hj:function(){return r}})},4040:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(185),r=n(6954),s=n.n(r),o=n(7557),a=n(5791);const l={domId:"webgl-output",initPosition:new i.Pa4(20,10,10),fov:60,near:1,far:1e4,rendererOptions:{},clearColor:new i.Ilk(9737626),showStats:!1,helper:0,exposure:1,enableDamping:!0};class c{constructor(e){const t=l;(0,a.Kn)(e)&&Object.assign(t,e);const{fov:n,near:r,far:c,initPosition:d,rendererOptions:h={},clearColor:p,domId:u,showStats:m,helper:f,exposure:w,enableDamping:g}=t;this.scene=new i.xsS,this.camera=new i.cPb(n,window.innerWidth/window.innerHeight,r,c),this.camera.position.copy(d),this.camera.lookAt(this.scene.position);let b={antialias:!0};if((0,a.Kn)(h)&&(b=Object.assign({},b,h)),this.renderer=new i.CP7(b),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=i.ntZ,this.renderer.setClearColor(p),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=i.EoG,this.renderer.toneMappingExposure=w,this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(u)?.append(this.renderer.domElement),this.orbitControls=new o.z(this.camera,this.renderer.domElement),this.orbitControls.enableDamping=g,this.clock=new i.SUY,(0,a.hj)(f)&&f>0&&this.scene.add(new i.y8_(f)),m){const e=new(s());this.stats=e,document.body.appendChild(e.dom)}}render(){this.orbitControls.update(),this.stats&&this.stats.update(),this.beforeRender&&this.beforeRender(),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera)}}},981:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});n(768);var i=n(4310),r=n(4040),s=n(185);const o={id:"webgl-output"},a={name:"Panorama"};var l=Object.assign(a,{setup(e){class t extends r.Z{constructor(){super({initPosition:new s.Pa4(0,0,1),clearColor:new s.Ilk(0),fov:75,near:1,far:1e4});const e=["/images/panorama/cubemap/px.png","/images/panorama/cubemap/nx.png","/images/panorama/cubemap/py.png","/images/panorama/cubemap/ny.png","/images/panorama/cubemap/pz.png","/images/panorama/cubemap/nz.png"];this.list=[];const t=[],n=new s.dpR;e.map((e=>{const i=new s.vBJ({map:n.load(e)});t.push(i)}));var i=new s.DvJ(500,500,500),r=new s.Kj0(i,t);r.geometry.scale(-1,1,1),this.scene.add(r);const o=new s.xeV({map:n.load("/images/icon/position-fill.png")}),a=[{x:-5,y:-4,z:-14,content:"床"},{x:-20,y:-5,z:-9,content:"沙发"},{x:10,y:-6,z:12,content:"冰箱"}],l=(e,t,n,i)=>{const r=document.createElement("canvas");r.setAttribute("width","300px"),r.setAttribute("height","100px");const o=r.getContext("2d");o.fillStyle="#F4EA2A",o.font="40px Microsoft YaHei UI",o.lineWidth=4;const a=o.measureText(e);o.fillText(e,(r.width-a.width)/2,55);const l=new s.xEZ(r);l.needsUpdate=!0;const c=new s.xeV({map:l}),d=new s.jyi(c);return d.scale.set(6,2,1),d.position.set(t+3,n,i),console.log("sp",d,e,t,n+1,i),d};a.map((e=>{const{x:t,y:n,z:i,content:r}=e,a=new s.jyi(o);a.position.set(t,n,i),this.scene.add(a);const c=l(r,t,n,i);this.scene.add(c),this.list.push(a),this.list.push(c)})),this.raycaster=new s.iMs,this.mouse=new s.FM8,this._pointerMove=this.pointerMove.bind(this),this.renderer.domElement.addEventListener("mousemove",this._pointerMove),this.render()}pointerMove(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,console.log("mouse",this.mouse.x,this.mouse.y),this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.list);console.log("intersects.length",t.length),t.length&&console.log("intersects",t)}beforeRender(){this.labelRenderer&&this.labelRenderer.render(this.scene,this.camera)}}return(0,i.bv)((()=>{new t})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",o))}}),c=n(1256);const d=(0,c.Z)(l,[["__scopeId","data-v-a1051a44"]]);var h=d}}]);