"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[726],{11027:function(e,t,n){n.d(t,{hw:function(){return u},AU:function(){return c.AU},Gc:function(){return c.Gc},_f:function(){return c._f},Ki:function(){return c.Ki},H7:function(){return c.H7},n_:function(){return a},Et:function(){return o},Gv:function(){return r},ZF:function(){return i},Kg:function(){return s},X6:function(){return d},cM:function(){return h}});n(53297);function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(r(e)){const t=Object.keys(e);return 0===t.length}return!1}function s(e){return"string"===typeof e}function o(e){return"number"===typeof e}function a(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&1===e.nodeType&&"string"===typeof e.nodeName}var c=n(21966);function u(e=1,t=10){return Math.floor(Math.random()*(t-e+1))+e}function h(e,t=!0){if(""===e||0===e||!e)return"0";const n=e+"",r=n.indexOf(".");let i="",s="";-1!==r?(t&&(i=n.substring(r)),s=n.substring(0,r)):s=n;let o=s.split("");if(o.length>=4){const e=[],t=o.reverse();for(let n=0;n<t.length;n++)e.push(t[n]),(n+1)%3===0&&e.push(",");o=e.reverse(),o.length&&","===o[0]&&o.shift()}return o.join("")+(t?i:"")}function d(e,t=2){try{const n=parseFloat(e);return n.toFixed(t)}catch(n){return"0"}}},61399:function(e,t,n){n.d(t,{A:function(){return u}});var r=n(75030),i=n(12724),s=n.n(i),o=n(68625),a=n(11027);const c={domId:"webgl-output",initPosition:new r.Pq0(20,10,10),fov:60,near:1,far:1e4,rendererOptions:{},clearColor:new r.Q1f(9737626),showStats:!1,helper:0,exposure:1,enableDamping:!0};class u{constructor(e){const t=c;(0,a.Gv)(e)&&Object.assign(t,e);const{fov:n,near:i,far:u,initPosition:h,rendererOptions:d={},clearColor:p,domId:l,showStats:m,helper:f,exposure:g,enableDamping:w}=t;this.scene=new r.Z58,this.camera=new r.ubm(n,window.innerWidth/window.innerHeight,i,u),this.camera.position.copy(h),this.camera.lookAt(this.scene.position);let b={antialias:!0};if((0,a.Gv)(d)&&(b=Object.assign({},b,d)),this.renderer=new r.JeP(b),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=r.Wk7,this.renderer.setClearColor(p),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=r.kyO,this.renderer.toneMappingExposure=g,this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(l)?.append(this.renderer.domElement),this.orbitControls=new o.N(this.camera,this.renderer.domElement),this.orbitControls.enableDamping=w,this.clock=new r.zD7,(0,a.Et)(f)&&f>0&&this.scene.add(new r.IzY(f)),m){const e=new(s());this.stats=e,document.body.appendChild(e.dom)}}render(){this.orbitControls.update(),this.stats&&this.stats.update(),this.beforeRender&&this.beforeRender(),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera)}}},50646:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});n(53297);var r=n(58258),i=n(61399),s=n(75030);const o={id:"webgl-output"},a={name:"Panorama"};var c=Object.assign(a,{setup(e){class t extends i.A{constructor(){super({initPosition:new s.Pq0(0,0,1),clearColor:new s.Q1f(0),fov:75,near:1,far:1e4});const e=["/images/panorama/cubemap/px.png","/images/panorama/cubemap/nx.png","/images/panorama/cubemap/py.png","/images/panorama/cubemap/ny.png","/images/panorama/cubemap/pz.png","/images/panorama/cubemap/nz.png"];this.list=[];const t=[],n=new s.Tap;e.map((e=>{const r=new s.V9B({map:n.load(e)});t.push(r)}));var r=new s.iNn(500,500,500),i=new s.eaF(r,t);i.geometry.scale(-1,1,1),this.scene.add(i);const o=new s.RoJ({map:n.load("/images/icon/position-fill.png")}),a=[{x:-5,y:-4,z:-14,content:"床"},{x:-20,y:-5,z:-9,content:"沙发"},{x:10,y:-6,z:12,content:"冰箱"}],c=(e,t,n,r)=>{const i=document.createElement("canvas");i.setAttribute("width","300px"),i.setAttribute("height","100px");const o=i.getContext("2d");o.fillStyle="#F4EA2A",o.font="40px Microsoft YaHei UI",o.lineWidth=4;const a=o.measureText(e);o.fillText(e,(i.width-a.width)/2,55);const c=new s.gPd(i);c.needsUpdate=!0;const u=new s.RoJ({map:c}),h=new s.kxk(u);return h.scale.set(6,2,1),h.position.set(t+3,n,r),console.log("sp",h,e,t,n+1,r),h};a.map((e=>{const{x:t,y:n,z:r,content:i}=e,a=new s.kxk(o);a.position.set(t,n,r),this.scene.add(a);const u=c(i,t,n,r);this.scene.add(u),this.list.push(a),this.list.push(u)})),this.raycaster=new s.tBo,this.mouse=new s.I9Y,this._pointerMove=this.pointerMove.bind(this),this.renderer.domElement.addEventListener("mousemove",this._pointerMove),this.render()}pointerMove(e){this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,console.log("mouse",this.mouse.x,this.mouse.y),this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.list);console.log("intersects.length",t.length),t.length&&console.log("intersects",t)}beforeRender(){this.labelRenderer&&this.labelRenderer.render(this.scene,this.camera)}}return(0,r.sV)((()=>{new t})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",o))}}),u=n(69337);const h=(0,u.A)(c,[["__scopeId","data-v-a1051a44"]]);var d=h}}]);