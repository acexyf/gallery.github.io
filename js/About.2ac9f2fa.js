"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[450],{53514:function(e,t,i){i.r(t),i.d(t,{default:function(){return z}});i(53297);var n=i(58258),s=i(47199),r=i(17562),a=i(75030),o=i(69694),h=i(24953),c=i(68309);const l=8e3;class d{constructor(){this.scene=(0,o.H7)(),this.scene.background=new a.Q1f(855584),this.isChanging=!1,this.camera=(0,o.Gc)(new a.Pq0(0,0,80),55,5,2e4),this.renderer=(0,o.Ki)(),this.clock=(0,o.$i)(),this.timer=null,this.initMeshes(),this.changeCameraView(),setTimeout((()=>{this.changeGeometry(this.qrGeometry,1600)}),1600),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this.render()}getMod(e,t){return[Math.floor(e/t),e%t]}mixFloatArray(e,t){const i=Array.from(e),n=Array.from(t);if(i.length===n.length)return{...n};if(i.length<n.length)return{...n.splice(0,i.length)};if(i.length>n.length){const e=[],t=i.length-n.length,[s,r]=this.getMod(t,n.length);for(let i=0;i<s;i++)e.push(...n);return e.push(...n.slice(0,r)),{...n.concat(e)}}}changeGeometry(e,t=1500){const i=e.attributes.position.array,n=this.mixFloatArray(this.pt.geometry.attributes.position.array,i);this.isChanging=!0,new c.Ay.Tween({...Array.from(this.pt.geometry.attributes.position.array)}).to(n,t).easing(c.Ay.Easing.Quadratic.InOut).onComplete((()=>{this.isChanging=!1})).onUpdate((e=>{for(let t in e){const i=e[t],n=Number(t);this.pt.geometry.attributes.position.array[n]=i}this.pt.geometry.attributes.position.needsUpdate=!0})).start()}changeCameraView(){new c.Ay.Tween({x:0,size:.2}).to({x:80,size:1.2},2400).onUpdate((e=>{const{x:t,size:i}=e,n=Math.sqrt(6400-Math.pow(t,2));this.camera.position.x=t,this.camera.position.z=n,this.camera.lookAt(new a.Pq0(0,0,0)),this.camera.updateProjectionMatrix(),this.pt.material.size=i})).start()}getRandomPos(e){const t=60,i=78,n=78,s=Math.random()*t*2-t,r=Math.random()*i*2-i,a=Math.sqrt((1-Math.pow(s,2)/t/t-Math.pow(r,2)/n/n)*n*n),o=Math.random()*a*2-a;return[o,s,r]}initMeshes(){const e=new a.LoY,t=[];for(let a=0;a<l;a++){const[e,i,n]=this.getRandomPos(a);t.push(e,i,n)}e.setAttribute("position",new a.qtW(t,3));const i=new a.Tap,n=i.load("/images/points-effect/gradient.png"),s=new a.BH$({color:3355443,size:.2,map:n,transparent:!0,depthTest:!1,blending:a.EZo}),r=new a.ONl(e,s);this.material=s,this.pt=r,this.scene.add(r);const o=new h.B;o.load("/models/points-effect/qr.glb",(e=>{const t=e.scene.children[0].geometry,i=22;t.scale(i,i,i).rotateX(.5*Math.PI).rotateY(.5*Math.PI).translate(0,0,-20),this.qrGeometry=t}))}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}render(){c.Ay.update(),this.renderer.render(this.scene,this.camera),this.timer=requestAnimationFrame(this.render.bind(this))}beforeDestroy(){window.removeEventListener("resize",this._resizeFn),this.timer&&cancelAnimationFrame(this.timer)}}var m=i(91790);const u=e=>((0,n.Qi)("data-v-6cec45e6"),e=e(),(0,n.jt)(),e),g={class:"about-page"},p=u((()=>(0,n.Lk)("div",{class:"about-box",id:"webgl-output"},null,-1))),w=u((()=>(0,n.Lk)("div",null,"这个人很懒，还没想好写什么！",-1))),y=u((()=>(0,n.Lk)("div",null,"不过可以先关注一下公众号：",-1))),b=u((()=>(0,n.Lk)("div",null,"文章转载、商业合作、广告投放、问题咨询等请加微信：corner_scofield",-1))),f=[w,y,b],v={name:"About"};var M=Object.assign(v,{setup(e){let t=null;const i=(0,r.KR)(!1),a=(0,m.rd)();(0,n.sV)((()=>{t=new d,setTimeout((()=>{i.value=!0}),3200)}));const o=()=>{a.push({name:"Home"})};return(0,n.xo)((()=>{t&&t.beforeDestroy()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",g,[p,(0,n.Lk)("div",{class:"home-btn",onClick:o}),(0,n.Lk)("div",{class:(0,s.C4)(["about-content",i.value?"show":""])},f,2)]))}}),A=i(69337);const k=(0,A.A)(M,[["__scopeId","data-v-6cec45e6"]]);var z=k}}]);