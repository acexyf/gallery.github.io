"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[618],{3845:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var i=s(58258),r=s(69694),n=s(75030),o=s(64634),a=s(45494),c=s(57399),h=s(24953);class d{constructor(e={}){const{progress:t=o.lQ,complete:s=o.lQ,begin:i=o.lQ}=e;this.scene=(0,r.H7)(),this.scene.background=new n.Q1f(3355443),this.scene.environment=(new a.Y).load("/models/ferrari/venice_sunset_1k.hdr"),this.scene.fog=new n.jUj(3355443,10,15),this.grid=new n.fTw(20,40,16777215,16777215),this.grid.material.opacity=.2,this.grid.material.depthWrite=!1,this.grid.material.transparent=!0,this.scene.add(this.grid),new r.AU(this.scene),this.camera=(0,r.Gc)(new n.Pq0(4.25,1.4,-4.5),40,.1,100),this.renderer=(0,r.Ki)(),this.renderer.toneMapping=n.FV,this.renderer.toneMappingExposure=.85,this.controls=(0,r.ZN)(this.camera,this.renderer,!1),this.controls.maxDistance=9,this.controls.maxPolarAngle=n.cj9.degToRad(90),this.initCar(),this.initLight(),this.clock=(0,r.$i)(),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this.render()}initLight(){const e=new n.$p8(16777215,1);this.scene.add(e)}initCar(){new n.uSd({color:16711680,metalness:1,roughness:.5,clearcoat:1,clearcoatRoughness:.03}),new n._4j({color:16777215,metalness:1,roughness:.5}),new n.uSd({color:16777215,metalness:.25,roughness:0,transmission:1}),(new n.Tap).load("/models/ferrari/ferrari_ao.png");const e=new c.Z;e.setDecoderPath("/js/draco/");const t=new h.B;t.setDRACOLoader(e),t.load("/models/ferrari/ferrari.glb",(e=>{const t=e.scene.children[0];console.log(t,"carModel"),this.scene.add(t)}))}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}autoRotate(){this.isAutoRotate=!this.isAutoRotate,this.controls.autoRotate=this.isAutoRotate}render(){this.renderer.render(this.scene,this.camera),this.controls.update(),this.timer=requestAnimationFrame(this.render.bind(this))}beforeDestroy(){this.timer&&cancelAnimationFrame(this.timer),window.addEventListener("resize",this._resizeFn)}}const l={class:"relative"},u=(0,i.Lk)("div",{id:"webgl-output",class:"webgl-output"},null,-1),g=[u],w={name:"Ferrari"};var m=Object.assign(w,{setup(e){let t;(0,i.sV)((()=>{t=new d({begin(){},progress(){},complete(){}})})),(0,i.xo)((()=>{t&&t.beforeDestroy&&t.beforeDestroy()}));return(e,t)=>((0,i.uX)(),(0,i.CE)("div",l,g))}});const p=m;var f=p}}]);