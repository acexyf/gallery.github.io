(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[141],{6954:function(e){(function(t,n){e.exports=n()})(0,(function(){var e=function(){function t(e){return o.appendChild(e.dom),e}function n(e){for(var t=0;t<o.children.length;t++)o.children[t].style.display=t===e?"block":"none";r=e}var r=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",(function(e){e.preventDefault(),n(++r%o.children.length)}),!1);var i=(performance||Date).now(),a=i,s=0,l=t(new e.Panel("FPS","#0ff","#002")),d=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:o,addPanel:t,showPanel:n,begin:function(){i=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(d.update(e-i,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:o,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,o=0,i=Math.round,a=i(window.devicePixelRatio||1),s=80*a,l=48*a,d=3*a,c=2*a,p=3*a,m=15*a,u=74*a,h=30*a,f=document.createElement("canvas");f.width=s,f.height=l,f.style.cssText="width:80px;height:48px";var w=f.getContext("2d");return w.font="bold "+9*a+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=n,w.fillRect(0,0,s,l),w.fillStyle=t,w.fillText(e,d,c),w.fillRect(p,m,u,h),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(p,m,u,h),{dom:f,update:function(l,y){r=Math.min(r,l),o=Math.max(o,l),w.fillStyle=n,w.globalAlpha=1,w.fillRect(0,0,s,m),w.fillStyle=t,w.fillText(i(l)+" "+e+" ("+i(r)+"-"+i(o)+")",d,c),w.drawImage(f,p+a,m,u-a,h,p,m,u-a,h),w.fillRect(p+u-a,m,a,h),w.fillStyle=n,w.globalAlpha=.9,w.fillRect(p+u-a,m,a,i((1-l/y)*h))}}},e}))},5791:function(e,t,n){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return"number"===typeof e}n.d(t,{Kn:function(){return r},hj:function(){return o}})},3589:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});n(768);var r=n(4310),o=n(185),i=n(6954),a=n.n(i),s=n(7557);class l extends o.Tme{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const d=new o.Pa4,c=new o.yGw,p=new o.yGw,m=new o.Pa4,u=new o.Pa4;class h{constructor(e={}){const t=this;let n,r,o,i;const a={objects:new WeakMap},s=void 0!==e.element?e.element:document.createElement("div");function l(e,n,r){if(e.isCSS2DObject){d.setFromMatrixPosition(e.matrixWorld),d.applyMatrix4(p);const l=!0===e.visible&&d.z>=-1&&d.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===l?"":"none",!0===l){e.onBeforeRender(t,n,r);const a=e.element;a.style.transform="translate(-50%,-50%) translate("+(d.x*o+o)+"px,"+(-d.y*i+i)+"px)",a.parentNode!==s&&s.appendChild(a),e.onAfterRender(t,n,r)}const c={distanceToCameraSquared:h(r,e)};a.objects.set(e,c)}for(let t=0,o=e.children.length;t<o;t++)l(e.children[t],n,r)}function h(e,t){return m.setFromMatrixPosition(e.matrixWorld),u.setFromMatrixPosition(t.matrixWorld),m.distanceToSquared(u)}function f(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function w(e){const t=f(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=a.objects.get(e).distanceToCameraSquared,r=a.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,o=t.length;r<o;r++)t[r].element.style.zIndex=n-r}s.style.overflow="hidden",this.domElement=s,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),c.copy(t.matrixWorldInverse),p.multiplyMatrices(t.projectionMatrix,c),l(e,e,t),w(e)},this.setSize=function(e,t){n=e,r=t,o=n/2,i=r/2,s.style.width=e+"px",s.style.height=t+"px"}}}var f=n(5791);const w={domId:"webgl-output",initPosition:new o.Pa4(20,10,10),fov:60,near:1,far:1e4,rendererOptions:{},clearColor:new o.Ilk(9737626),showStats:!1,helper:0,exposure:1,enableDamping:!0};class y{constructor(e){const t=w;(0,f.Kn)(e)&&Object.assign(t,e);const{fov:n,near:r,far:i,initPosition:l,rendererOptions:d={},clearColor:c,domId:p,showStats:m,helper:u,exposure:y,enableDamping:b}=t;this.scene=new o.xsS,this.camera=new o.cPb(n,window.innerWidth/window.innerHeight,r,i),this.camera.position.copy(l),this.camera.lookAt(this.scene.position);let g={antialias:!0};(0,f.Kn)(d)&&(g=Object.assign({},g,d)),this.renderer=new o.CP7(g),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=o.ntZ,this.renderer.setClearColor(c),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=o.EoG,this.renderer.toneMappingExposure=y,this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(p)?.append(this.renderer.domElement);const x=new h;if(x.setSize(window.innerWidth,window.innerHeight),x.domElement.style.position="absolute",x.domElement.style.top=0,x.domElement.style.left=0,this.labelRenderer=x,document.body.appendChild(x.domElement),this.orbitControls=new s.z(this.camera,this.labelRenderer.domElement),this.orbitControls.enableDamping=b,this.clock=new o.SUY,(0,f.hj)(u)&&u>0&&this.scene.add(new o.y8_(u)),m){const e=new(a());this.stats=e,document.body.appendChild(e.dom)}}render(){this.orbitControls.update(),this.stats&&this.stats.update(),this.beforeRender&&this.beforeRender(),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera)}beforeDestroy(){this.labelRenderer.domElement.remove()}}const b={id:"webgl-output"},g={name:"Panorama2D"};var x=Object.assign(g,{setup(e){class t extends y{constructor(){super({initPosition:new o.Pa4(0,0,1),clearColor:new o.Ilk(0),fov:75,near:1,far:1e4});const e=["/images/panorama/cubemap/px.png","/images/panorama/cubemap/nx.png","/images/panorama/cubemap/py.png","/images/panorama/cubemap/ny.png","/images/panorama/cubemap/pz.png","/images/panorama/cubemap/nz.png"],t=[],n=new o.dpR;e.map((e=>{const r=new o.vBJ({map:n.load(e)});t.push(r)}));var r=new o.DvJ(500,500,500),i=new o.Kj0(r,t);i.geometry.scale(-1,1,1),this.scene.add(i);const a=[{x:-5,y:-4,z:-14,content:"床"},{x:-20,y:-5,z:-9,content:"沙发"},{x:10,y:-6,z:12,content:"冰箱"}];function s(e,t,n,r){let o=document.createElement("div");o.className="laber_name",o.innerHTML=e,o.style.color="#F4EA2A",o.style.fontSize="30px",o.style.background="url(/images/icon/position-fill.png) no-repeat",o.style.backgroundSize="30px 30px",o.style.backgroundPosition="left center",o.style.padding="0 0 0 36px",o.style.cursor="pointer",o.addEventListener("click",(t=>{console.log("ev",t),alert(`点击了${e}`)})),o.addEventListener("mouseover",(e=>{console.log("ev",e)}));let i=new l(o);return i.position.set(t,n,r),i}a.map((e=>{const{x:t,y:n,z:r,content:o}=e,i=s(o,t,n,r);this.scene.add(i)})),this.render()}beforeRender(){}}let n;return(0,r.bv)((()=>{n=new t})),(0,r.Jd)((()=>{n.beforeDestroy()})),(e,t)=>((0,r.wg)(),(0,r.iD)("div",b))}}),v=n(1256);const S=(0,v.Z)(x,[["__scopeId","data-v-0d08b7ec"]]);var P=S}}]);