"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[395],{70795:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var i=s(58258),r=s(17562),a=s(34056),n=s(63019),o=s(69694),h=s(64634),l=s(75030),c=s(37949);class d{constructor(e){const{progress:t=h.lQ,complete:s=h.lQ,begin:i=h.lQ}=e;this.isAutoRotate=!1,this.scene=(0,o.H7)(),this.scene.background=new l.Q1f(16777215),this.camera=(0,o.Gc)(new l.Pq0(45,45,45),55,1,2e4),this.renderer=(0,o.Ki)(void 0,!0,2),this.renderer.setClearColor(16777215),this.renderer.autoClear=!1,(0,o.AU)(this.scene),this.controls=(0,o.ZN)(this.camera,this.renderer,!1),this.controls.minDistance=1,this.controls.maxDistance=800,this.clock=(0,o.$i)();const r=new l.KPJ;this.imgLoader=new l.$NF(r),this.cubeLoader=new l.ScU(r),this.objLoader=new c.L(r),r.onStart=()=>{i()},r.onProgress=(e,s,i)=>{t((0,h.tM)(s,i))},r.onLoad=()=>{s()},this.loadAssets(),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this.render()}loadAssets(){this.envMap=this.cubeLoader.load(["/models/backrest-chair/posx.jpg","/models/backrest-chair/negx.jpg","/models/backrest-chair/posy.jpg","/models/backrest-chair/negy.jpg","/models/backrest-chair/posz.jpg","/models/backrest-chair/negz.jpg"]),this.leatherDif1=new l.gPd,this.leatherBump1=new l.gPd,this.imgLoader.load("/models/metal-chair/leather_dif1.jpg",(e=>{this.leatherDif1.image=e,(0,h.J)(this.leatherDif1,l.GJx,[3,3])})),this.imgLoader.load("/models/metal-chair/leather_bump1.jpg",(e=>{this.leatherBump1.image=e,(0,h.J)(this.leatherBump1,l.GJx,[3,3])}))}autoRotate(){this.isAutoRotate=!this.isAutoRotate,this.controls.autoRotate=this.isAutoRotate}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}render(){this.renderer.render(this.scene,this.camera),this.controls.update(),this.timer=requestAnimationFrame(this.render.bind(this))}beforeDestroy(){this.timer&&cancelAnimationFrame(this.timer),this.gui.destroy(),window.addEventListener("resize",this._resizeFn)}}const u={class:"relative"},m=(0,i.Lk)("div",{id:"webgl-output",class:"webgl-output"},null,-1),g={name:"MetalChair"};var p=Object.assign(g,{setup(e){let t=null;const s=(0,r.KR)(!0),o=(0,r.KR)(0);(0,i.sV)((()=>{t=new d({begin(){s.value=!0},progress(e){o.value=e},complete(){s.value=!1}})})),(0,i.xo)((()=>{t&&t.beforeDestroy()}));const h=()=>{t&&t.autoRotate()};return(e,t)=>((0,i.uX)(),(0,i.CE)("div",u,[m,s.value?((0,i.uX)(),(0,i.Wv)((0,r.R1)(a.I),{key:0,progress:o.value},null,8,["progress"])):(0,i.Q3)("",!0),(0,i.bF)((0,r.R1)(n.mQ),null,{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(n.yB),{class:"mr-4",onClick:h}),(0,i.bF)((0,r.R1)(n.oZ))])),_:1})]))}});const b=p;var w=b}}]);