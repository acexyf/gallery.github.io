'use strict';function a17_0xb54a(_0x4bf135,_0x41683d){const _0x505bc0=a17_0x505b();return a17_0xb54a=function(_0xb54aa3,_0x5a70aa){_0xb54aa3=_0xb54aa3-0x124;let _0x4eeafa=_0x505bc0[_0xb54aa3];return _0x4eeafa;},a17_0xb54a(_0x4bf135,_0x41683d);}const a17_0x680843=a17_0xb54a;(function(_0x32dd0d,_0x309c13){const _0x148fc4=a17_0xb54a,_0x17cbee=_0x32dd0d();while(!![]){try{const _0x5aa69f=parseInt(_0x148fc4(0x15c))/0x1+parseInt(_0x148fc4(0x133))/0x2*(parseInt(_0x148fc4(0x163))/0x3)+-parseInt(_0x148fc4(0x149))/0x4+-parseInt(_0x148fc4(0x125))/0x5*(parseInt(_0x148fc4(0x15b))/0x6)+parseInt(_0x148fc4(0x129))/0x7+-parseInt(_0x148fc4(0x158))/0x8*(parseInt(_0x148fc4(0x131))/0x9)+parseInt(_0x148fc4(0x12e))/0xa;if(_0x5aa69f===_0x309c13)break;else _0x17cbee['push'](_0x17cbee['shift']());}catch(_0x4f6906){_0x17cbee['push'](_0x17cbee['shift']());}}}(a17_0x505b,0xaec78));function a17_0x505b(){const _0x2c32f1=['9786904ulxkKL','gui','texture','2647602MMQhmq','1103090fvQGMs','enableDamping','background','mixRatio','assign','Pq0','scene','9NUbwZf','random','transition','5ZqzJUa','eaF','clear','k6q','7561190KKARTb','useTexture','scene2','qUd','V9B','459260VNGTYp','material','load','9kYNnPR','Tap','706906qfglFr','next','transitionParams','value','setRenderTarget','quad','render','div','offsetHeight','domElement','update','过渡速度','.png','getElementById','offsetWidth','webgl-output','scene1','dampingFactor','animate','beforeDestroy','name','add','3636076VBTtTi','set','bdM','tMixTexture','Q1f','webpackChunkcreation_gallery','maxDistance','camera','uniforms','Gu$','enablePan','push','fbo','tDiffuse2','\x0a\x20\x20\x20\x20\x20\x20uniform\x20float\x20mixRatio;\x0a\x09\x09\x09uniform\x20sampler2D\x20tDiffuse1;\x0a\x09\x09\x09uniform\x20sampler2D\x20tDiffuse2;\x0a\x09\x09\x09uniform\x20sampler2D\x20tMixTexture;\x0a\x09\x09\x09uniform\x20bool\x20useTexture;\x0a\x09\x09\x09uniform\x20float\x20threshold;\x0a\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09vec4\x20texel1\x20=\x20texture2D(\x20tDiffuse1,\x20vUv\x20);\x0a\x09\x09\x09\x09vec4\x20texel2\x20=\x20texture2D(\x20tDiffuse2,\x20vUv\x20);\x0a\x09\x09\x09\x09if\x20(useTexture==true)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20transitionTexel\x20=\x20texture2D(\x20tMixTexture,\x20vUv\x20);\x0a\x09\x09\x09\x09\x09float\x20r\x20=\x20mixRatio\x20*\x20(1.0\x20+\x20threshold\x20*\x202.0)\x20-\x20threshold;\x0a\x09\x09\x09\x09\x09float\x20mixf=clamp((transitionTexel.r\x20-\x20r)*(1.0/threshold),\x200.0,\x201.0);\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20mix(\x20texel1,\x20texel2,\x20mixf\x20);\x0a\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20mix(\x20texel2,\x20texel1,\x20mixRatio\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20'];a17_0x505b=function(){return _0x2c32f1;};return a17_0x505b();}(self[a17_0x680843(0x14e)]=self[a17_0x680843(0x14e)]||[])[a17_0x680843(0x154)]([[0xdc4],{0x15d02:function(_0x257f9f,_0x266ee7,_0x3c7fe6){const _0x118211=a17_0x680843;_0x3c7fe6['r'](_0x266ee7),_0x3c7fe6['d'](_0x266ee7,{'default':function(){return _0x3f4751;}});var _0x13b207=_0x3c7fe6(0xe392),_0x59b35c=(_0x3c7fe6(0xd031),_0x3c7fe6(0xfc7a)),_0x18e9a4=_0x3c7fe6(0x12516),_0x574335=_0x3c7fe6(0x10c11);let _0x15ff3b,_0x479912,_0x332c83;class _0x38a720{constructor(_0x420785){const _0x17683f=a17_0xb54a,_0x138615=document[_0x17683f(0x140)](_0x17683f(0x142)),{color:_0x2d4c73}=_0x420785;this['scene']=(0x0,_0x59b35c['H7'])(),this[_0x17683f(0x162)][_0x17683f(0x15e)]=new _0x18e9a4[(_0x17683f(0x14d))](0x0);const _0x1273b5={'minFilter':_0x18e9a4[_0x17683f(0x128)],'magFilter':_0x18e9a4[_0x17683f(0x128)],'stencilBuffer':!0x1};this['fbo']=new _0x18e9a4['nWS'](_0x138615[_0x17683f(0x141)],_0x138615[_0x17683f(0x13b)],_0x1273b5),(0x0,_0x59b35c['AU'])(this[_0x17683f(0x162)],0xa);for(let _0x5bfa1a=0x0;_0x5bfa1a<0xa;_0x5bfa1a++){const _0xb087a7=new _0x18e9a4[(_0x17683f(0x126))](new _0x18e9a4[(_0x17683f(0x152))](0x1,0x14),new _0x18e9a4[(_0x17683f(0x12d))]({'color':_0x2d4c73}));_0xb087a7['position'][_0x17683f(0x14a)](0xa*Math[_0x17683f(0x164)](),0xa*Math[_0x17683f(0x164)](),0xa*Math[_0x17683f(0x164)]()),this['scene']['add'](_0xb087a7);}}[_0x118211(0x139)](_0x1447fc=0x0,_0x287398=!0x1){const _0x5b3695=_0x118211;_0x287398?(_0x15ff3b[_0x5b3695(0x137)](this[_0x5b3695(0x155)]),_0x15ff3b[_0x5b3695(0x127)](),_0x15ff3b[_0x5b3695(0x139)](this[_0x5b3695(0x162)],_0x479912)):(_0x15ff3b['setRenderTarget'](null),_0x15ff3b[_0x5b3695(0x139)](this['scene'],_0x479912)),_0x332c83[_0x5b3695(0x13d)]();}}function _0x442802(_0xf9feb5,_0x117415,_0x1ce530){const _0x458e4c=_0x118211,_0xe9a0ba=document['getElementById'](_0x458e4c(0x142));this['scene']=new _0x18e9a4['Z58'](),this[_0x458e4c(0x162)][_0x458e4c(0x15e)]=new _0x18e9a4[(_0x458e4c(0x14d))](0x0),this['camera']=new _0x18e9a4[(_0x458e4c(0x12c))](_0xe9a0ba[_0x458e4c(0x141)]/-0x2,_0xe9a0ba[_0x458e4c(0x141)]/0x2,_0xe9a0ba['offsetHeight']/0x2,_0xe9a0ba[_0x458e4c(0x13b)]/-0x2,-0xa,0xa),this[_0x458e4c(0x12f)]=new _0x18e9a4['BKk']({'uniforms':{'tDiffuse1':{'value':null},'tDiffuse2':{'value':null},'mixRatio':{'value':0x0},'threshold':{'value':0.1},'useTexture':{'value':!0x0},'tMixTexture':{'value':_0x1ce530[_0x458e4c(0x15a)]}},'vertexShader':'\x0a\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09vUv\x20=\x20vec2(\x20uv.x,\x20uv.y\x20);\x0a\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20','fragmentShader':_0x458e4c(0x157)});const _0x1b8f91=new _0x18e9a4[(_0x458e4c(0x14b))](_0xe9a0ba[_0x458e4c(0x141)],_0xe9a0ba['offsetHeight']);this['quad']=new _0x18e9a4[(_0x458e4c(0x126))](_0x1b8f91,this['material']),this[_0x458e4c(0x162)]['add'](this[_0x458e4c(0x138)]),this[_0x458e4c(0x13d)]=(_0x154532,_0x3a3d03,_0x5d6a75=!0x1)=>{const _0x2cdf55=_0x458e4c;this[_0x2cdf55(0x143)]=_0x154532,this['scene2']=_0x3a3d03,this[_0x2cdf55(0x12f)][_0x2cdf55(0x151)]['tDiffuse1'][_0x2cdf55(0x136)]=this[_0x2cdf55(0x12b)][_0x2cdf55(0x155)][_0x2cdf55(0x15a)],this['material'][_0x2cdf55(0x151)][_0x2cdf55(0x156)][_0x2cdf55(0x136)]=this[_0x2cdf55(0x143)][_0x2cdf55(0x155)]['texture'],this[_0x2cdf55(0x12f)][_0x2cdf55(0x151)]['threshold']['value']=0.1,this['material'][_0x2cdf55(0x151)][_0x2cdf55(0x15f)][_0x2cdf55(0x136)]=0x0,this[_0x2cdf55(0x12f)][_0x2cdf55(0x151)][_0x2cdf55(0x14c)][_0x2cdf55(0x136)]=_0x1ce530[_0x2cdf55(0x15a)],this['material'][_0x2cdf55(0x151)][_0x2cdf55(0x12a)][_0x2cdf55(0x136)]=_0x1ce530[_0x2cdf55(0x12a)],_0x1ce530[_0x2cdf55(0x145)]=_0x5d6a75,_0x1ce530[_0x2cdf55(0x124)]=0x0;},this[_0x458e4c(0x139)]=()=>{const _0x45efa7=_0x458e4c;0x0===_0x1ce530[_0x45efa7(0x124)]?this[_0x45efa7(0x143)]['render']():_0x1ce530[_0x45efa7(0x124)]>=0x1?(this[_0x45efa7(0x12b)][_0x45efa7(0x139)](),_0x1ce530[_0x45efa7(0x145)]=!0x1):(this['scene1']['render'](0x0,!0x0),this['scene2'][_0x45efa7(0x139)](0x0,!0x0),_0x15ff3b[_0x45efa7(0x137)](null),_0x15ff3b['clear'](),_0x15ff3b[_0x45efa7(0x139)](this[_0x45efa7(0x162)],this[_0x45efa7(0x150)])),_0x1ce530[_0x45efa7(0x145)]&&_0x1ce530[_0x45efa7(0x124)]<=0x1&&(_0x1ce530[_0x45efa7(0x124)]=_0x1ce530[_0x45efa7(0x124)]+_0x1ce530['transitionSpeed'],this[_0x45efa7(0x12f)]['uniforms'][_0x45efa7(0x15f)][_0x45efa7(0x136)]=_0x1ce530[_0x45efa7(0x124)]);},this[_0x458e4c(0x13d)](_0xf9feb5,_0x117415,!0x1);}class _0x3ebabc{constructor(){const _0x300cf6=_0x118211;_0x15ff3b=(0x0,_0x59b35c['Ki'])(),_0x479912=(0x0,_0x59b35c['Gc'])(new _0x18e9a4[(_0x300cf6(0x161))](0x14,0x1e,0xa),0x37,0x1,0x4e20),_0x332c83=new _0x574335['N'](_0x479912,_0x15ff3b[_0x300cf6(0x13c)]),_0x332c83['minDistance']=0x5,_0x332c83[_0x300cf6(0x14f)]=0x14,_0x332c83[_0x300cf6(0x153)]=!0x1,_0x332c83[_0x300cf6(0x15d)]=!0x0,_0x332c83[_0x300cf6(0x144)]=0.05;const _0x4f3624=new _0x38a720({'color':0xff0000}),_0x3228b2=new _0x38a720({'color':0xffff00}),_0x2af884=new _0x38a720({'color':0xff00}),_0x3ffb0b=new _0x38a720({'color':0xff}),_0x3a41a7=[],_0x223d21=new _0x18e9a4[(_0x300cf6(0x132))]();for(let _0xebef21=0x0;_0xebef21<0x6;_0xebef21++)_0x3a41a7[_0x300cf6(0x154)](_0x223d21[_0x300cf6(0x130)]('/images/textures/transition/transition'+(_0xebef21+0x1)+_0x300cf6(0x13f)));this['transitionParams']={'useTexture':!0x0,'transition':0x0,'transitionSpeed':0.05,'texture':_0x3a41a7[0x0],'animate':!0x1},this[_0x300cf6(0x124)]=new _0x442802(_0x4f3624,_0x3228b2,this[_0x300cf6(0x135)]),this[_0x300cf6(0x159)]=(0x0,_0x59b35c['_f'])();let _0x3bcdce=0x0;const _0x46603e={'next':()=>{const _0x517e9c=_0x300cf6;this[_0x517e9c(0x135)][_0x517e9c(0x15a)]=_0x3a41a7[parseInt(0x6*Math['random']())],0x0===_0x3bcdce?this[_0x517e9c(0x124)][_0x517e9c(0x13d)](_0x4f3624,_0x3228b2,!0x0):0x1===_0x3bcdce?this[_0x517e9c(0x124)]['update'](_0x3228b2,_0x2af884,!0x0):0x2===_0x3bcdce?this['transition']['update'](_0x2af884,_0x3ffb0b,!0x0):0x3===_0x3bcdce&&(this[_0x517e9c(0x124)]['update'](_0x3ffb0b,_0x4f3624,!0x0),_0x3bcdce=-0x1),_0x3bcdce++;}};this['gui'][_0x300cf6(0x148)](_0x46603e,_0x300cf6(0x134))[_0x300cf6(0x147)]('下一个场景'),this[_0x300cf6(0x159)][_0x300cf6(0x148)](this[_0x300cf6(0x135)],'transitionSpeed',0x0,0x1)['step'](0.01)[_0x300cf6(0x147)](_0x300cf6(0x13e)),this['gui'][_0x300cf6(0x148)](this[_0x300cf6(0x135)],_0x300cf6(0x12a))[_0x300cf6(0x147)]('使用图案'),this['render']();}[_0x118211(0x139)](){const _0x3c6809=_0x118211;this[_0x3c6809(0x124)]['render'](),requestAnimationFrame(this[_0x3c6809(0x139)]['bind'](this));}['beforeDestroy'](){const _0x791fdc=_0x118211;this[_0x791fdc(0x159)]['destroy'](),window['removeEventListener']('resize',this['_resizeFn']);}}const _0x26a2c8={'id':'webgl-output','class':_0x118211(0x142)},_0x2e22f9={'name':'SceneTransition'};var _0x2ad04b=Object[_0x118211(0x160)](_0x2e22f9,{'setup'(_0x39cf8b){const _0x407211=_0x118211;let _0x19d86e;return(0x0,_0x13b207['sV'])(()=>{_0x19d86e=new _0x3ebabc();}),(0x0,_0x13b207['xo'])(()=>{const _0x37b20d=a17_0xb54a;_0x19d86e&&_0x19d86e[_0x37b20d(0x146)]();}),(_0x1c140b,_0x582d1d)=>((0x0,_0x13b207['uX'])(),(0x0,_0x13b207['CE'])(_0x407211(0x13a),_0x26a2c8));}});const _0x3a474d=_0x2ad04b;var _0x3f4751=_0x3a474d;}}]);