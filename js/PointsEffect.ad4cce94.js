"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[553],{37366:function(t,e,r){r.r(e),r.d(e,{default:function(){return R}});var i=r(58258),o=(r(53297),r(75030)),n=r(69694),s=r(68309),a=r(74714);let c=0,h=0,m=window.innerWidth/2,p=window.innerHeight/2;class d{constructor(){this.scene=(0,n.H7)(),this.scene.background=new o.Q1f(855584),this.isChanging=!1,this.camera=(0,n.Gc)(new o.Pq0(15,0,0),55,1,2e4),this.renderer=(0,n.Ki)(),this.timer=null,this.clock=(0,n.$i)(),this.initGeometry(),this.initMeshes(),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this._onPointerMove=this.onPointerMove.bind(this),document.body.addEventListener("pointermove",this._onPointerMove),this.render()}onPointerMove(t){!1!==t.isPrimary&&(c=t.clientX-m,h=t.clientY-p)}initGeometry(){a.A.get("/models/points-effect/cpgame3.json").then((t=>{const e=new o.LoY;e.setAttribute("position",new o.qtW(t.data.vertices.map((t=>8*t)),3)),e.translate(-4,3,0).rotateX(40/180*Math.PI).rotateY(-10/180*Math.PI).rotateZ(-10/180*Math.PI),console.log(e,"cpgame3"),this.cpgame3=e.attributes.position.array})),a.A.get("/models/points-effect/cpac5.json").then((t=>{const e=new o.LoY;e.setAttribute("position",new o.qtW(t.data.vertices.map((t=>6*t)),3)),e.translate(5,-1,0).rotateY(-30/180*Math.PI),this.cpac5=e.attributes.position.array})),a.A.get("/models/points-effect/cpbook2.json").then((t=>{const e=new o.LoY;e.setAttribute("position",new o.qtW(t.data.vertices.map((t=>10*t)),3)),e.translate(16,0,0).rotateX(0*Math.PI),this.cpbook2=e.attributes.position.array})),a.A.get("/models/points-effect/cpmovie4.json").then((t=>{const e=new o.LoY;e.setAttribute("position",new o.qtW(t.data.vertices.map((t=>5*t)),3)),e.translate(16,-5,0).rotateX(.5*Math.PI).rotateY(1*Math.PI),this.cpmovie4=e.attributes.position.array})),a.A.get("/models/points-effect/cpkv3.json").then((t=>{const e=new o.LoY;e.setAttribute("position",new o.qtW(t.data.vertices.map((t=>1*t)),3)),this.cpkv3=e.attributes.position.array}))}initMeshes(){const t=new o.Tap,e=t.load("/images/points-effect/gradient.png"),r=new o.BH$({color:16777215,size:.1,map:e,transparent:!0,depthTest:!1,blending:o.EZo}),i=new o.LoY,n=[];for(let o=0;o<1e4;o++){const[t,e,r]=this.getRandomPos();n.push(t,e,r)}i.setAttribute("position",new o.qtW(n,3));const s=new o.ONl(i,r);this.pt=s,this.scene.add(s),this.changeCameraView(),setTimeout((()=>{this.changeGeometry(this.cpgame3,1500)}),1e3)}changeCameraView(){new s.Ay.Tween({x:15}).to({x:0},1200).onUpdate((t=>{const{x:e}=t,r=Math.sqrt(225-Math.pow(e,2));this.camera.position.x=e,this.camera.position.z=r,this.camera.lookAt(new o.Pq0(0,0,0)),this.camera.updateProjectionMatrix()})).start()}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}mixFloatArray(t,e){const r=Array.from(t),i=Array.from(e);if(r.length===i.length)return{...i};if(r.length<i.length)return{...i.splice(0,r.length)};if(r.length>i.length){const t=[],e=r.length-i.length,[o,n]=this.getMod(e,i.length);for(let r=0;r<o;r++)t.push(...i);return t.push(...i.slice(0,n)),{...i.concat(t)}}}getRandomPos(){const t=6,e=13,r=13,i=Math.random()*t*2-t,o=Math.sqrt((1-(i/t)**2)*e**2),n=Math.random()*o*2-o,s=Math.sqrt((1-Math.pow(i,2)/t/t-Math.pow(n,2)/r/r)*r*r),a=Math.random()*s*2-s;return[a,i,n]}getMod(t,e){return[Math.floor(t/e),t%e]}changeGeometry(t,e=1500){const r=this.pt.geometry.attributes.position.array,i=this.mixFloatArray(r,t);this.isChanging=!0,new s.Ay.Tween({...Array.from(r)}).to(i,e).easing(s.Ay.Easing.Quadratic.InOut).onComplete((()=>{this.isChanging=!1})).onUpdate((t=>{for(let e in t){const r=t[e],i=Number(e);this.pt.geometry.attributes.position.array[i]=r}this.pt.geometry.attributes.position.needsUpdate=!0})).start()}render(){s.Ay.update(),this.renderer.render(this.scene,this.camera),this.timer=requestAnimationFrame(this.render.bind(this))}slideTo(t){1===t?this.changeGeometry(this.cpgame3):2===t?this.changeGeometry(this.cpac5):3===t?this.changeGeometry(this.cpbook2):4===t&&this.changeGeometry(this.cpmovie4)}beforeDestroy(){console.log("beforeDestroy"),this.cpgame3=null,this.cpac5=null,this.cpbook2=null,this.cpmovie4=null,this.cpkv3,window.removeEventListener("resize",this._resizeFn),document.body.removeEventListener("pointermove",this._onPointerMove);try{cancelAnimationFrame(this.timer),this.scene.clear(),this.renderer.dispose(),this.renderer.forceContextLoss(),this.renderer.content=null,this.pt.geometry.dispose();const t=document.querySelector("#webgl-output");t&&t.remove()}catch(t){console.log(t,"error")}}}var l=r(37852),g=r(42200);const u={class:"points-effect_page"},y=(0,i.Fv)('<div id="webgl-output" data-v-6b58ae82></div><div class="scroll-box scroll-right" data-v-6b58ae82><img src="/images/points-effect/298692010400560.png" class="img1" alt="" data-v-6b58ae82><img src="/images/points-effect/298712013780404.png" class="img3" alt="" data-v-6b58ae82></div><div class="scroll-box scroll-left" data-v-6b58ae82><img src="/images/points-effect/298734013640422.png" class="img2" alt="" data-v-6b58ae82><img src="/images/points-effect/298722013720390.png" class="img4" alt="" data-v-6b58ae82></div>',3),E=[y],w={name:"ParticleEffect"};var f=Object.assign(w,{setup(t){let e,r,o=window.innerHeight/3*2,n=1;const s=4,a=2;let c=!0;const h=(0,l.A)((t=>{if(console.log(c),!c)return;if(e.isChanging)return;const{wheelDelta:r}=t;r<0?n<s&&(n++,e.slideTo(n)):n>1&&(n--,e.slideTo(n)),c=!1,1===n&&(r>0&&g.Ay.to(".img2",{y:o}),setTimeout((()=>{g.Ay.to(".img1",{opacity:1,duration:a}),g.Ay.set(".img2",{opacity:0,y:0}),c=!0}),1500)),2===n&&(r<0&&g.Ay.to(".img1",{y:-o}),r>0&&g.Ay.to(".img3",{y:o}),setTimeout((()=>{g.Ay.to(".img2",{opacity:1,duration:a}),g.Ay.set(".img1",{opacity:0,y:0}),g.Ay.set(".img3",{opacity:0,y:0}),c=!0}),1500)),3===n&&(r<0&&g.Ay.to(".img2",{y:-o}),r>0&&g.Ay.to(".img4",{y:o}),setTimeout((()=>{g.Ay.to(".img3",{opacity:1,duration:a}),g.Ay.set(".img2",{opacity:0,y:0}),g.Ay.set(".img4",{opacity:0,y:0}),c=!0}),1500)),4===n&&(r<0&&g.Ay.to(".img3",{y:-o}),setTimeout((()=>{g.Ay.to(".img4",{opacity:1,duration:a}),g.Ay.set(".img3",{opacity:0,y:0}),g.Ay.set(".img2",{opacity:0,y:0}),c=!0}),1500))}),50);return(0,i.sV)((()=>{e=new d,r=document.querySelector(".points-effect_page"),r.addEventListener("wheel",h),setTimeout((()=>{g.Ay.to(".img1",{opacity:1,duration:a})}),2500)})),(0,i.xo)((()=>{e&&e.beforeDestroy(),r&&r.removeEventListener("wheel",h)})),(t,e)=>((0,i.uX)(),(0,i.CE)("div",u,E))}}),v=r(20541);const A=(0,v.A)(f,[["__scopeId","data-v-6b58ae82"]]);var R=A},37149:function(t,e,r){r.r(e),r.d(e,{default:function(){return d}});var i=r(58258),o=r(75030),n=r(69694),s=r(64634);class a{constructor(){this.scene=(0,n.H7)(),this.camera=(0,n.Gc)(new o.Pq0(30,10,40),55,50,2e4),this.renderer=(0,n.Ki)(),this.controls=(0,n.ZN)(this.camera,this.renderer,!1),this.gui=(0,n._f)(),this.clock=(0,n.$i)(),this.initSprite(),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this.render()}initSprite(){const t=(new o.Tap).load("/images/textures/rain.png"),e=new o.RoJ({map:t}),r=new o.YJl;for(let i=0;i<16e3;i++){const t=new o.kxk(e);r.add(t);const i=1e3*(Math.random()-.5),n=500*Math.random(),s=1e3*(Math.random()-.5);t.position.set(i,n,s)}this.group=r,this.scene.add(r)}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}render(){this.controls.update(this.clock.getDelta()),this.group.children.forEach(((t,e)=>{t.position.y-=e%3+1,t.position.y<=-300&&(t.position.y=(0,s.hw)(300,500))})),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render.bind(this))}beforeDestroy(){this.gui.destroy(),window.removeEventListener("resize",this._resizeFn)}}const c={id:"webgl-output"},h={name:"SpriteRain"};var m=Object.assign(h,{setup(t){let e;return(0,i.sV)((()=>{e=new a})),(0,i.xo)((()=>{e&&e.beforeDestroy()})),(t,e)=>((0,i.uX)(),(0,i.CE)("div",c))}});const p=m;var d=p},93356:function(t,e,r){var i=r(23096),o=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new o("Incorrect invocation")}},393:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},58914:function(t,e,r){var i=r(36403),o=Error,n=i("".replace),s=function(t){return String(new o(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=n(t,a,"");return t}},65956:function(t,e,r){var i=r(71850),o=r(23949),n=r(5464);t.exports=function(t,e,r){var s,a;return n&&i(s=e.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&n(t,a),t}},13920:function(t,e,r){var i=r(30480);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:i(t)}},30480:function(t,e,r){var i=r(29852),o=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},34380:function(t,e,r){var i=r(21651),o=r(7186),n=r(31342),s=r(91305),a=r(3884).f,c=r(6172),h=r(93356),m=r(65956),p=r(13920),d=r(393),l=r(58914),g=r(90167),u=r(10576),y="DOMException",E=n("Error"),w=n(y),f=function(){h(this,v);var t=arguments.length,e=p(t<1?void 0:arguments[0]),r=p(t<2?void 0:arguments[1],"Error"),i=new w(e,r),o=new E(e);return o.name=y,a(i,"stack",s(1,l(o.stack,1))),m(i,this,f),i},v=f.prototype=w.prototype,A="stack"in new E(y),R="stack"in new w(1,2),_=w&&g&&Object.getOwnPropertyDescriptor(o,y),b=!!_&&!(_.writable&&_.configurable),M=A&&!b&&!R;i({global:!0,constructor:!0,forced:u||M},{DOMException:M?f:w});var T=n(y),I=T.prototype;if(I.constructor!==T)for(var D in u||a(I,"constructor",s(1,T)),d)if(c(d,D)){var N=d[D],S=N.s;c(T,S)||a(T,S,s(6,N.c))}}}]);