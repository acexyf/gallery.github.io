"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[579],{21190:function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var n=i(58258),s=(i(53297),i(75030)),r=i(69694);let o=0,a=0,h=window.innerWidth/2,c=window.innerHeight/2;var d=class{constructor(){this.scene=(0,r.H7)(),this.camera=(0,r.Gc)(new s.Pq0(0,0,1e3),55,1,2e4),this.renderer=(0,r.Ki)(),this.controls=(0,r.ZN)(this.camera,this.renderer,!1),this.gui=(0,r._f)(),this.clock=(0,r.$i)(),(0,r.AU)(this.scene,200),this._resizeFn=this.resizeFn.bind(this),window.addEventListener("resize",this._resizeFn),this.timer=null,this._onPointerMove=this.onPointerMove.bind(this),document.body.addEventListener("pointermove",this._onPointerMove),this.initMesh(),this.render()}resizeFn(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}onPointerMove(e){!1!==e.isPrimary&&(o=e.clientX-h,a=e.clientY-c)}initMesh(){const e=new s.Tap,t=e=>{e.colorSpace=s.er$},i=e.load("/images/textures/sprites/snowflake1.png",t),n=e.load("/images/textures/sprites/snowflake2.png",t),r=e.load("/images/textures/sprites/snowflake3.png",t),o=e.load("/images/textures/sprites/snowflake4.png",t),a=e.load("/images/textures/sprites/snowflake5.png",t),h=[];for(let s=0;s<1e4;s++){const e=2e3*Math.random()-1e3,t=2e3*Math.random()-1e3,i=2e3*Math.random()-1e3;h.push(e,t,i)}const c=new s.LoY;c.setAttribute("position",new s.qtW(h,3));const d=[[[1,.2,.5],n,20],[[.95,.1,.5],r,15],[[.9,.05,.5],i,10],[[.85,0,.5],a,8],[[.8,0,.5],o,5]];for(let l=0;l<d.length;l++){const e=d[l][0],t=d[l][1],i=d[l][2],n=new s.BH$({size:i,map:t,transparent:!0,depthTest:!1,blending:s.EZo});n.color.setHSL(e[0],e[1],e[2]);const r=new s.ONl(c,n);r.rotation.x=6*Math.random(),r.rotation.y=6*Math.random(),r.rotation.z=6*Math.random(),this.scene.add(r)}}render(){const e=5e-5*Date.now();this.controls.update(this.clock.getDelta()),console.log(this.camera.position.x,this.camera.position.y),this.camera.position.x+=.05*(o-this.camera.position.x),this.camera.position.y+=.05*(-a-this.camera.position.y);for(let t=0;t<this.scene.children.length;t++){const i=this.scene.children[t];i instanceof s.ONl&&(i.rotation.y=e*(t<4?t+1:-(t+1)))}this.renderer.render(this.scene,this.camera),this.timer=requestAnimationFrame(this.render.bind(this))}beforeDestroy(){this.gui.destroy(),window.removeEventListener("resize",this._resizeFn),document.body.removeEventListener("pointermove",this._onPointerMove),this.timer&&cancelAnimationFrame(this.timer)}};const l={id:"webgl-output"},m={name:"PointsSnow"};var p=Object.assign(m,{setup(e){let t;return(0,n.sV)((()=>{t=new d})),(0,n.xo)((()=>{t&&t.beforeDestroy()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",l))}});const w=p;var u=w}}]);