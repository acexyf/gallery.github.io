"use strict";(self["webpackChunkcreation_gallery"]=self["webpackChunkcreation_gallery"]||[]).push([[116],{11027:function(e,t,n){n.d(t,{hw:function(){return u},AU:function(){return d.AU},Gc:function(){return d.Gc},_f:function(){return d._f},Ki:function(){return d.Ki},H7:function(){return d.H7},C8:function(){return s},n_:function(){return l},Et:function(){return c},Gv:function(){return r},ZF:function(){return o},Kg:function(){return a},X6:function(){return m},on:function(){return h},cM:function(){return p}});n(53297);function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){if(r(e)){const t=Object.keys(e);return 0===t.length}return!1}function i(e){return"[object Undefined]"===Object.prototype.toString.call(e)}function s(e){return!i(e)}function a(e){return"string"===typeof e}function c(e){return"number"===typeof e}function l(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&1===e.nodeType&&"string"===typeof e.nodeName}var d=n(21966);function u(e=1,t=10){return Math.floor(Math.random()*(t-e+1))+e}function p(e,t=!0){if(""===e||0===e||!e)return"0";const n=e+"",r=n.indexOf(".");let o="",i="";-1!==r?(t&&(o=n.substring(r)),i=n.substring(0,r)):i=n;let s=i.split("");if(s.length>=4){const e=[],t=s.reverse();for(let n=0;n<t.length;n++)e.push(t[n]),(n+1)%3===0&&e.push(",");s=e.reverse(),s.length&&","===s[0]&&s.shift()}return s.join("")+(t?o:"")}function m(e,t=2){try{const n=parseFloat(e);return n.toFixed(t)}catch(n){return"0"}}function h(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}},59210:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(53297);var r=n(58258),o=n(75030),i=n(12724),s=n.n(i),a=n(68625);class c extends o.B69{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}const l=new o.Pq0,d=new o.kn4,u=new o.kn4,p=new o.Pq0,m=new o.Pq0;class h{constructor(e={}){const t=this;let n,r,o,i;const s={objects:new WeakMap},a=void 0!==e.element?e.element:document.createElement("div");function c(e,n,r){if(e.isCSS2DObject){l.setFromMatrixPosition(e.matrixWorld),l.applyMatrix4(u);const c=!0===e.visible&&l.z>=-1&&l.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===c?"":"none",!0===c){e.onBeforeRender(t,n,r);const s=e.element;s.style.transform="translate(-50%,-50%) translate("+(l.x*o+o)+"px,"+(-l.y*i+i)+"px)",s.parentNode!==a&&a.appendChild(s),e.onAfterRender(t,n,r)}const d={distanceToCameraSquared:h(r,e)};s.objects.set(e,d)}for(let t=0,o=e.children.length;t<o;t++)c(e.children[t],n,r)}function h(e,t){return p.setFromMatrixPosition(e.matrixWorld),m.setFromMatrixPosition(t.matrixWorld),p.distanceToSquared(m)}function f(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function b(e){const t=f(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=s.objects.get(e).distanceToCameraSquared,r=s.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,o=t.length;r<o;r++)t[r].element.style.zIndex=n-r}a.style.overflow="hidden",this.domElement=a,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),d.copy(t.matrixWorldInverse),u.multiplyMatrices(t.projectionMatrix,d),c(e,e,t),b(e)},this.setSize=function(e,t){n=e,r=t,o=n/2,i=r/2,a.style.width=e+"px",a.style.height=t+"px"}}}var f=n(11027);const b={domId:"webgl-output",initPosition:new o.Pq0(20,10,10),fov:60,near:1,far:1e4,rendererOptions:{},clearColor:new o.Q1f(9737626),showStats:!1,helper:0,exposure:1,enableDamping:!0};class g{constructor(e){const t=b;(0,f.Gv)(e)&&Object.assign(t,e);const{fov:n,near:r,far:i,initPosition:c,rendererOptions:l={},clearColor:d,domId:u,showStats:p,helper:m,exposure:g,enableDamping:y}=t;this.scene=new o.Z58,this.camera=new o.ubm(n,window.innerWidth/window.innerHeight,r,i),this.camera.position.copy(c),this.camera.lookAt(this.scene.position);let w={antialias:!0};(0,f.Gv)(l)&&(w=Object.assign({},w,l)),this.renderer=new o.JeP(w),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=o.Wk7,this.renderer.setClearColor(d),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=o.kyO,this.renderer.toneMappingExposure=g,this.renderer.physicallyCorrectLights=!0,this.renderer.setPixelRatio(window.devicePixelRatio),document.getElementById(u)?.append(this.renderer.domElement);const x=new h;if(x.setSize(window.innerWidth,window.innerHeight),x.domElement.style.position="absolute",x.domElement.style.top=0,x.domElement.style.left=0,this.labelRenderer=x,document.body.appendChild(x.domElement),this.orbitControls=new a.N(this.camera,this.labelRenderer.domElement),this.orbitControls.enableDamping=y,this.clock=new o.zD7,(0,f.Et)(m)&&m>0&&this.scene.add(new o.IzY(m)),p){const e=new(s());this.stats=e,document.body.appendChild(e.dom)}}render(){this.orbitControls.update(),this.stats&&this.stats.update(),this.beforeRender&&this.beforeRender(),requestAnimationFrame(this.render.bind(this)),this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera)}beforeDestroy(){this.labelRenderer.domElement.remove()}}const y={id:"webgl-output"},w={name:"Panorama2D"};var x=Object.assign(w,{setup(e){class t extends g{constructor(){super({initPosition:new o.Pq0(0,0,1),clearColor:new o.Q1f(0),fov:75,near:1,far:1e4});const e=["/images/panorama/cubemap/px.png","/images/panorama/cubemap/nx.png","/images/panorama/cubemap/py.png","/images/panorama/cubemap/ny.png","/images/panorama/cubemap/pz.png","/images/panorama/cubemap/nz.png"],t=[],n=new o.Tap;e.map((e=>{const r=new o.V9B({map:n.load(e)});t.push(r)}));var r=new o.iNn(500,500,500),i=new o.eaF(r,t);i.geometry.scale(-1,1,1),this.scene.add(i);const s=[{x:-5,y:-4,z:-14,content:"床"},{x:-20,y:-5,z:-9,content:"沙发"},{x:10,y:-6,z:12,content:"冰箱"}];function a(e,t,n,r){let o=document.createElement("div");o.className="laber_name",o.innerHTML=e,o.style.color="#F4EA2A",o.style.fontSize="30px",o.style.background="url(/images/icon/position-fill.png) no-repeat",o.style.backgroundSize="30px 30px",o.style.backgroundPosition="left center",o.style.padding="0 0 0 36px",o.style.cursor="pointer",o.addEventListener("click",(t=>{console.log("ev",t),alert(`点击了${e}`)})),o.addEventListener("mouseover",(e=>{console.log("ev",e)}));let i=new c(o);return i.position.set(t,n,r),i}s.map((e=>{const{x:t,y:n,z:r,content:o}=e,i=a(o,t,n,r);this.scene.add(i)})),this.render()}beforeRender(){}}let n;return(0,r.sV)((()=>{n=new t})),(0,r.xo)((()=>{n.beforeDestroy()})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",y))}}),v=n(69337);const E=(0,v.A)(x,[["__scopeId","data-v-0d08b7ec"]]);var C=E}}]);